# Azure OpenAI 聊天應用

這個專案是一個使用 Azure OpenAI 服務的簡單聊天應用。它使用 Express.js 作為後端，並提供了一個功能豐富的前端界面來與 AI 進行對話。

## 功能

- 使用 Azure OpenAI 服務進行聊天
- 現代化的用戶界面，支持發送消息和接收 AI 回覆
- 對話中顯示用戶（👨）和 AI（🤖）的頭像
- 基本的用戶認證（僅用於演示目的）
- 每條消息和程式碼塊都有獨立的複製功能，方便用戶複製對話內容
- 支持多行輸入的文本框，方便用戶輸入較長的消息
- 流式輸出：AI 回覆會逐步顯示，提供更好的用戶體驗
- 增強的程式碼框支持：
  - 自動識別和格式化程式碼塊
  - 支持多種程式語言的語法高亮
  - 程式碼塊右上角有獨立的複製按鈕
- 改進的視覺設計，包括更清晰的消息分隔和更美觀的複製按鈕

## 設置

1. 確保你已經安裝了 Node.js 和 npm。

2. 克隆這個倉庫到你的本地機器。

3. 在專案根目錄運行以下命令安裝依賴：

   ```
   npm install
   ```

4. 在專案根目錄創建一個 `.env` 文件，並添加以下內容：

   ```
   AZURE_OPENAI_KEY=你的Azure_OpenAI_API密鑰
   AZURE_OPENAI_ENDPOINT=你的Azure_OpenAI_端點
   AZURE_OPENAI_API_VERSION=2024-02-15-preview
   AZURE_OPENAI_DEPLOYMENT_NAME=你的部署名稱
   ```

   請確保將上述值替換為你的 Azure OpenAI 服務的實際配置。

## 運行應用

1. 在專案根目錄運行以下命令啟動服務器：

   ```
   npm start
   ```

2. 打開瀏覽器並訪問 `http://localhost:3000`。

3. 使用以下憑證登錄（僅用於演示目的）：
   - 用戶名：admin
   - 密碼：admin111

4. 登錄後，你將被重定向到聊天界面，在那裡你可以與 AI 進行對話。你會看到用戶消息旁邊有一個👨頭像，而 AI 回覆旁邊有一個🤖頭像。

5. 在底部的多行文本框中輸入你的消息。你可以使用 Shift + Enter 來換行，或直接點擊「發送」按鈕來發送消息。

6. AI 的回覆會逐步顯示，提供更自然的對話體驗。

7. 如果 AI 的回覆包含程式碼，它會自動被格式化並顯示在特殊的程式碼框中，支持多種程式語言的語法高亮。

8. 每條消息的右上角都有一個複製圖標。點擊這個圖標可以將相應的消息複製到剪貼板，方便你保存或分享對話內容。

9. 對於程式碼塊，在右上角有一個獨立的複製按鈕，可以方便地複製程式碼而不包括其他文本。

## 注意事項

- 這個應用僅用於演示目的，不應在生產環境中使用。
- 確保妥善保管你的 Azure OpenAI API 密鑰和其他敏感信息。
- 當前的認證方法不安全，僅用於演示。在實際應用中，應使用更安全的認證方法。
- 複製功能使用了瀏覽器的 Clipboard API，可能在某些舊版瀏覽器中不受支持。
- 多行輸入框支持自動調整高度，最大高度為 200 像素。
- 流式輸出、程式碼高亮和複製功能可能需要現代瀏覽器才能正常工作。

## 貢獻

歡迎提出問題和改進建議！如果你想為這個專案做出貢獻，請隨時提交 pull request。

## 許可

本專案採用 MIT 許可證。詳情請參見 [LICENSE](LICENSE) 文件。
